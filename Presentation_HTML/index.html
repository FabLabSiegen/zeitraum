<html>
	<head>
		<script src="jquery-3.1.1.min.js"></script>
		<script>
			var map = {"0": "1_Start",
					   "1": "2_Herrengarten",
					   "2": "3_Martinikirche"};

			var oldIndex = '-1';
			var oldLang = 'xy';
			var loadVar = function() {
				console.log("polling");
				$.getScript("currentSlide.js")
					.done(function() {
						console.log("done");
						if (index != oldIndex || lang != oldLang) {
							console.log("switching contents");
							$("#content").load(map[index] + "/content_" + lang + ".html");
							$("#picture").html("<img id='img1' src='" + map[index] + "/01.jpg' />");
							oldIndex = index;
							oldLang = lang;
						}
					})
					.fail(function() {
						console.log("fail");
				});
			};

			setInterval(loadVar, 500);
		</script>
		<style>
			#contentTable {
				border: 0px;
			}
			#heading {
				font-size: 36px;
			}
			#text, #content {
				margin-left: 20px;
				margin-top: 20px;
				vertical-align: top;
			}
			#pictures {
				width: 40%;
			}
			#picture img {
				max-width: 100%;
			}
		</style>
	</head>

	<body>
		<table id="contentTable">
			<tr>
				<td id="pictures">
					<div id="picture"></div>
				</td>
				<td id="text">
					<div id="content"></div>
				</td>
			<tr>
		</table>
	</body>
</html>
